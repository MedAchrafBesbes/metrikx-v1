<div class="cmd cmd-widget  L-widget" >
  

    <div class="title #hide_name#">
        <div class="cmdName">#name_display#</div>
      </div>
      <div class="button-container">
        <div class="power-button on-button" id="onButton#id#">
            <i class="fa fa-power-off"></i>
        </div>
        <div class="power-button off-button"  id="offButton#id#">
            <i class="fa fa-power-off"></i>
        </div>
    </div>

<div class="machine-state" id="machineState#id#">
    <span style="font-weight: bold;font-size: medium;">État:  <i id="machineIcon#id#" class="fa fa-times-circle" style="color: red;"></i> <span id="stateLabel#id#"> Inactif</span></span>
  </div>

  <template>

  </template>	
    </div>

<script type="text/javascript">
  jeedom.cmd.update['#id#'] = function (_options) {
      

        if (_options.display_value === '6' || _options.display_value === 6 ) {
        
            document.getElementById('stateLabel#id#').textContent = "Actif";
           
            document.getElementById('machineIcon#id#').className = "fa fa-check-circle";  // Icône verte
            document.getElementById('machineIcon#id#').style.color = "green";
        } else {
             document.getElementById('stateLabel#id#').textContent = "Inactif";
             
              document.getElementById('machineIcon#id#').className = "fa fa-times-circle";  // Icône rouge
              document.getElementById('machineIcon#id#').style.color = "red";
        }
    };

  jeedom.cmd.update['#id#']({ display_value: '#state#' });
 $('#onButton#id#').click(function() {
    
  	  jeedom.cmd.execute({
        id: '#id#',  // Remplace par l'ID réel de la commande Jeedom
        value: {
            title: "",  
            message: "1"
        }
    });
  });
 $('#offButton#id#').click(function() {
    
  	  jeedom.cmd.execute({
        id: '#id#',  // Remplace par l'ID réel de la commande Jeedom
        value: {
            title: "",  
            message: "0"
        }
    });
  });
</script>
<style>

  div.cmd.cmd-widget[data-cmd_id="#id#"][data-type="info"][data-subtype="numeric"][data-template="tile"] .state {
      font-size: 1.2em !important;
      
    }
   .button-container {
            display: flex;
            gap: 20px;
        }
        .power-button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: 0.3s;
            font-size: 28px;
            color: white;
            cursor: pointer;
        }
        .power-button:hover {
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        .on-button {
            background-color: green;
        }
        .off-button {
            background-color: red;
        }
    .L-widget {
    background: linear-gradient(135deg, #fbfbfb 0%, #65666d 100%);
    color: white;
    border-radius: 10px;
    padding: 20px;
    text-align: center;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    margin-top: 10px;
      max-width: 160px !important; /* Largeur maximale */
    width: 160px; /* Largeur fixe */
    height: 130px; /* Hauteur fixe */
    display: flex; /* Pour aligner le contenu */
    flex-direction: column; /* Orientation verticale */
    justify-content: space-between; /* Espacement uniforme */
    align-items: center; /* Centrer le contenu horizontalement */
}

.L-widget .title {
    margin-bottom: 5px;
    font-weight: bold;
    text-overflow: ellipsis; /* Si le texte est trop long */
    overflow: hidden; /* Cache le débordement */
    white-space: normal; /* Empêche le retour à la ligne */
    max-width: 100%; /* Largeur maximale égale à celle du parent */
}


       
        .icon-active {
      font-size: 48px; /* Taille de l'icône */
      color: #FFD700; /* Jaune brillant */
      text-shadow: 0 0 0px #FFD700, 0 0 2px #FFD700, 0 0 30px #FFA500;
      transition: transform 0.3s ease, text-shadow 0.3s ease;
    }

    .L-icon:hover {
      transform: scale(1.2); /* Zoom au survol */
      text-shadow: 0 0 15px #FFFF00, 0 0 30px #FFD700, 0 0 45px #FFA500;
    }
      
</style>